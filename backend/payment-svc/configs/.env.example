# Water Classroom Payment Service - Environment Variables
# Copy this file to .env and adjust values as needed

# Environment
ENV=development                            # development, staging, production

# Server Configuration
SERVER_HOST=0.0.0.0                        # Server bind address
SERVER_PORT=8081                           # External REST API port
GRPC_PORT=50052                            # Internal gRPC port
GRPC_MAX_MESSAGE_SIZE=4194304             # 4MB max message size
LOG_LEVEL=info                             # debug, info, warn, error

# Database
POSTGRES_URI=postgres://postgres:postgres@postgres:5432/water_classroom_payment?sslmode=disable
POSTGRES_MAX_OPEN_CONNS=25
POSTGRES_MAX_IDLE_CONNS=25
POSTGRES_CONN_MAX_LIFETIME=5m

# Redis (for caching, idempotency keys)
REDIS_ADDR=redis:6379
REDIS_PASSWORD=
REDIS_DB=1 # Use a different DB than auth-svc
REDIS_POOL_SIZE=10

# Message Queue (for events like payment success/failure)
RABBITMQ_URI=amqp://guest:guest@rabbitmq:5672/

# Telemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=payment-service

# Security
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
TLS_CERT_FILE=                           # Path to TLS certificate file (optional)
TLS_KEY_FILE=                            # Path to TLS key file (optional)

# Stripe Configuration (Example Payment Provider)
STRIPE_SECRET_KEY=sk_test_yourstripenkey
STRIPE_PUBLIC_KEY=pk_test_yourstripekey
STRIPE_WEBHOOK_SECRET=whsec_yourstripesecret

# For development/testing only (never enable in production)
MOCK_PAYMENT_PROVIDER=false              # Set to true to use a mock payment provider
